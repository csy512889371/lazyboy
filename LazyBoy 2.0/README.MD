<h2>终于更新到2.0了！</h2>

相比之前的版本，2.0最大的改进是可以在象棋巫师界面上运行引擎了，可以在界面上调试了，终于可以将代码的功能更好地展现了，不用再用以前在shell下的调试低效方法了。除此之外，代码风格有大大提高，分了许多模块和类，代码可读性，逻辑都增强了。算法方面，有一个很大的改进，在2.0之前的版本，其实已经能够处理很多残局问题了，但有两点不足，一是控制搜索步数的stopstep设置不够灵活，处理所有的残局，往往需要不断调整ss值，2.0版本对此进行了改进，ss值变得灵活，起初ss是从小到大变化地搜索，后来用到了ss满足二分的性质，用二分搜索进行了优化；第二不足是在博弈图建好，每个点博弈态确立后，红方选择后继去走时，算法错误了，对于一些强的数据，虽然能搜出必胜，但是无法通过走子打败黑方，2.0版本对此进行了改进，最终用了spfa算法解决，将问题转化为从1号点开始走，红方希望越早走到黑方叶子点越好，而黑方希望越晚越好，这种情况下红方每个必胜态如何走。除此外，更新了许多小bug，并且在shell下的调试功能也提升了，增加了quit命令，go命令等，解决了以前不小心输入错误导致大量输出的问题。


本文件夹还包含了象棋巫师的数据以及测试结果，据统计，象棋巫师趣味象棋模块一共有240个残局，其中140个残局属于2.0可以解决的，剩下100个2.0暂时无法解决，它们不满足“红方不断将，黑方不断躲”的特性，而在140个可以解决的残局中，2.0解决了133个，还有7个，由于算法的问题，没有解决，待改进...


总的来说，LazyBoy2.0是本项目一个“质的飞越”的版本，它是本项目初级阶段的一个标志，标志着从算法到代码风格再到功能等等的很大的改进，也表示着初级阶段已经进入尾声，准备进入中级阶段。2.0也存在许多问题，但以后的改进都可以在此基础上进行修改。


<h2>本次主要更新内容：</h2>

1.在何老师的帮助下，弄懂了如何写工程.h .cpp的问题，同时弄懂了如何正常编译等问题

2.经过了几天的摸索，引擎可视化完成！！！！！不断调试bug。。

3.去掉了e[i].ok, 建图的时候修改了，算法

4.发现个bug, 少判断“炮向后吃子后将军”的情况

5.让stopstep变得灵活了点，以stopstep从小到大开始搜起

6.发现一个大bug，第24组数据，在找最优点的时候，算法错误！

7.队列和栈都都写成了一个类

8.Newd一个bug, 将0棋盘复制为1棋盘时，可能将(0,0)位置的点抹为空格

9.MainSearch.dfs函数中，SearchStop判断在getNewChessBoard出来后也应该添加

10.去掉e[i].xy，同时修改print等函数

11.ChessBoard类里增加一个fine的变量，表示这个点可以访问

12.ShellWork读入全部用字符串读入。。判断读入是否正确。。并增加了go命令

13.ShellWork里增加一个quit命令

14.(6)中的bug已经修复! 现在从1号点开始，已经可以以相对最短步数到达终点了! 用到了spfa算法!(这里的相对最短是用了剪枝的原因)

15.stopFr -> stopTo 的搜索过程用了二分优化

<h2>仍然存在的问题：</h2>

1.算法不够智能，属于盲搜，所以博弈图会很大，没有估值函数

2.有些可以本应过的数据过不了，算法不足的原因

<h2>改进方向：</h2>

1.引入估值函数，想办法智能地给每个局面打分，搜索每个点的后继时，按照分值从高到低来搜索；估值函数的选择，非常关键，有可能因为估值函数算法不优越，以前可以过的残局无法过了；所以需要慎重选择，反复测试；

2.在遇到搜索点超过内存限制的问题时，可以采用回溯并删点的方法，继续搜索；举个例子，对于1号点，有5个后继，其中只有一个是必败态，那么我再搜索其他分枝时，如果遇到内存限制问题，可以大胆假设当前分枝无解，此时并不是返回，而是先删点，再搜索其他分枝；具体算法和细节还需要再思索；

3.学习各种相关剪枝搜索算法，比如Alpha-Beta剪枝搜索算法，利用已有算法提升引擎功能；
